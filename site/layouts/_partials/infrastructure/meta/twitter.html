{{- /* Twitter Card Tags */ -}}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="{{- site.Params.twitter_handle -}}">
<meta name="twitter:creator" content="{{- site.Params.twitter_handle -}}">
<meta name="twitter:title" content="{{- if .IsHome }}{{ site.Params.title }}{{ else }}{{ .Title }} | {{ site.Title }}{{ end -}}">
<meta name="twitter:description" content="{{- with .Description }}{{ . }}{{ else }}{{ site.Params.description }}{{ end -}}">
{{- $twitterImage := "" -}}
{{- if .Params.image -}}
  {{- if reflect.IsMap .Params.image -}}
    {{- if .Params.image.src -}}
      {{- $twitterImage = .Params.image.src -}}
    {{- end -}}
  {{- else -}}
    {{- $twitterImage = .Params.image -}}
  {{- end -}}
{{- end -}}
{{- if not $twitterImage -}}
  {{- if .File -}}
    {{- $section := .Section -}}
    {{- $slug := .File.BaseFileName -}}
    {{- $twitterImage = printf "/images/%s/%s.webp" $section $slug -}}
  {{- else -}}
    {{- $twitterImage = site.Params.og_image -}}
  {{- end -}}
{{- end -}}
<meta name="twitter:image" content="{{- $twitterImage | absURL -}}">
