<!doctype html>
{{ if eq .Sites.Default.Home . }}
  
{{ end }}
{{ .Page.Scratch.Set "heading_count" 0 }}
<html lang="{{- or site.Language.LanguageCode }}" dir="{{- or site.Language.LanguageDirection `ltr` }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    {{- /* SEO Title */ -}}
    <title>
      {{- if .IsHome -}}
        {{- site.Params.title -}}
      {{- else if .Title -}}
        {{- .Title }} | {{ site.Title -}}
      {{- else -}}
        {{- site.Title -}}
      {{- end -}}
    </title>
    
    {{- /* Meta Description */ -}}
    {{- with .Description -}}
      <meta name="description" content="{{- . -}}">
    {{- else -}}
      <meta name="description" content="{{- site.Params.description -}}">
    {{- end -}}
    
    {{- /* Meta Keywords */ -}}
    {{- with .Params.tags -}}
      <meta name="keywords" content="{{- delimit . ", " -}}, {{- site.Params.keywords -}}">
    {{- else -}}
      <meta name="keywords" content="{{- site.Params.keywords -}}">
    {{- end -}}
    
    {{- /* Author */ -}}
    <meta name="author" content="{{- site.Params.author -}}">
    
    {{- /* Canonical URL */ -}}
    <link rel="canonical" href="https://hinshelwood.com{{- .RelPermalink -}}">
    
    {{- /* Open Graph Tags */ -}}
    {{- partial "infrastructure/meta/opengraph.html" . -}}
    
    {{- /* Twitter Card Tags */ -}}
    {{- partial "infrastructure/meta/twitter.html" . -}}
    
    {{- /* Additional SEO Meta Tags */ -}}
   
    
    {{- if or (eq hugo.Environment "preview") (eq hugo.Environment "production") }}
        <meta name="robots" content="index, follow">
        <meta name="googlebot" content="index, follow">
    {{- else}}
      <meta name="robots" content="noindex, nofollow">
      <meta name="googlebot" content="noindex, nofollow">
    {{- end }}

  </head>
  <body data-ndka-environment="{{- hugo.Environment }}" data-ndka-version="v#{GitVersion.SemVer}#" data-nkda-renderGTM=" {{- if or (eq hugo.Environment "preview") (eq hugo.Environment "production") }}true{{ else }}false{{- end }}">
    {{- if or (eq hugo.Environment "preview") (eq hugo.Environment "production") }}
      <!-- Google Tag Manager (noscript) -->
      
      <!-- End Google Tag Manager (noscript) -->
    {{- end }}
    {{- block "navigation" . }}
      <section class="container block-navigation my-2">
        <nav>
          <ul>
            {{ range .Site.Menus.main }}
              <li>
                <a href="{{ .PageRef | relURL }}">{{ .Name }}</a>
                {{ if .HasChildren }}
                  <ul>
                    {{ range .Children }}
                      <li><a href="{{ .PageRef | relURL }}">{{ .Name }}</a></li>
                    {{ end }}
                  </ul>
                {{ end }}
              </li>
            {{ end }}
          </ul>
        </nav>
      </section>
    {{- end }}
    {{- block "breadcrumbs" . }}
      <section class="container block-breadcrumbs my-2">
        {{ partial "infrastructure/breadcrumbs.html" . }}
      </section>
    {{- end }}

    {{- block "headline" . }}
      <section class="container block-headline my-2">
        headline
      </section>
    {{- end }}

    {{- block "main" . }}
      <section class="container block-main my-2">
      main
      </section>
    {{- end }}

    {{- block "siteSectionCallback" . }}
      <section class="container my-2 block-siteSectionCallback">siteSectionCallback</section>
    {{- end }}


    {{- if eq hugo.Environment "development" }}
     <hr />
      <div id="debugArea" class="container-fluid p-2 bg-brand-{{- hugo.Environment }}">
        <section class="container my-2">
          <button class="btn btn-primary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#debugSection" aria-expanded="false" aria-controls="debugSection">Show Debug Information</button>

          <div class="collapse" id="debugSection">
            <p>This is content visible only in development.</p>
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Node</th>
                  <th>Value</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>This Page</td>
                  <td>{{ .Path }}</td>
                </tr>
                <tr>
                  <td>Template</td>
                  <td>{{- block "template" . }}{{- end }}</td>
                </tr>
                <tr>
                  <td>Layout</td>
                  <td>{{- .Layout }}</td>
                </tr>
                <tr>
                  <td>Kind</td>
                  <td>{{- .Kind }}</td>
                </tr>
                <tr>
                  <td>Type</td>
                  <td>{{- .Type }}</td>
                </tr>
                <tr>
                  <td>Section</td>
                  <td>{{- .Section }}</td>
                </tr>
                <tr>
                  <td>CurrentSection</td>
                  <td>{{- .CurrentSection }}</td>
                </tr>
                <tr>
                  <td>debug</td>
                  <td><pre>{{- debug.Dump .Params }}</pre></td>
                </tr>
                <tr>
                  <td>Section Info</td>
                  <td>
                    {{- if and .IsSection .Parent }}
                      <p>This is a subsection (child section of {{- .Parent.Title }}).</p>
                    {{- else if .IsSection }}
                      <p>This is a top-level section.</p>
                    {{- end }}
                  </td>
                </tr>
                <tr>
                  <td>Child Sections</td>
                  <td>
                    {{- if gt (len .Sections) 0 }}
                      <p>This section has child sections.</p>
                      <ul>
                        {{- range .Sections }}
                          <li><a href="{{- .Permalink }}">{{- .Title }}</a></li>
                        {{- end }}
                      </ul>
                    {{- else }}
                      <p>This section has no child sections.</p>
                    {{- end }}
                  </td>
                </tr>
                <tr>
                  <td>Ancestors</td>
                  <td>
                    <ol>
                      {{- range .Ancestors.Reverse }}
                        <li><a href="{{- .Permalink }}">{{- .Title }}</a></li>
                      {{- end }}
                      <li>{{- .Title }}</li>
                    </ol>
                  </td>
                </tr>
                <tr>
                  <td>Subsections</td>
                  <td>
                    <ul>
                      {{- range .Sections }}
                        <li>
                          <a href="{{- .Permalink }}">{{- .Title }}</a> ()
                          {{- if .IsSection }}
                            <ul>
                              {{- range .Sections }}
                                <li><a href="{{- .Permalink }}">{{- .Title }}</a></li>
                              {{- end }}
                            </ul>
                          {{- end }}
                        </li>
                      {{- end }}
                    </ul>
                  </td>
                </tr>
                <tr>
                  <td>Pages</td>
                  <td>
                    <ul>
                      {{- $groups := .Pages.GroupBy "Type" }}
                      {{- range $groups }}
                        <li>
                          {{- .Key }}
                          {{- if eq hugo.Environment "development" }}
                            <ul>
                              {{- range .Pages }}

                                <li>
                                  <a href="{{- .Permalink }}">{{- .Title }}</a>
                                  [Type: {{- .Type }}]
                                  {{- if .Layout }}[Layout: {{- .Layout }}]{{- end }}
                                </li>
                              {{- end }}
                            </ul>
                          {{- else }}
                            <span class="badge bg-secondary">{{- len .Pages }} pages (not shown in {{ hugo.Environment }})</span>
                          {{- end }}
                        </li>
                      {{- end }}
                    </ul>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>
      </div>
    {{- end }}

  </body>
</html>
